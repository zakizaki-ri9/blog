---
name: e2e-planner
description: Webアプリを探索してPlaywright E2Eテスト計画を生成するスキル
---

# E2E Planner Skill

このスキルは、Webアプリケーションを探索し、PlaywrightによるE2Eテスト計画をMarkdown形式で生成します。

## 前提条件

- 開発サーバーが起動可能であること（`pnpm dev`）
- Playwrightがインストール済みであること

## 実行手順

### 1. 開発サーバーの起動確認

```bash
pnpm dev
```

サーバーが `http://localhost:3000` で起動することを確認

### 2. アプリケーションの探索

`browser_subagent` を使用して、以下を調査します：

1. **メインページの構造**
   - ナビゲーション要素
   - 主要なコンテンツエリア
   - インタラクティブ要素（ボタン、リンク、フォーム）

2. **ユーザーフローの特定**
   - ページ間の遷移
   - 主要な機能（検索、フィルタリング等）

3. **テスト対象の優先度付け**
   - クリティカルパス（ユーザーが最も使う機能）
   - エッジケース

### 3. テスト計画書の生成

以下のフォーマットでMarkdownテスト計画を生成：

```markdown
# E2Eテスト計画

## 概要
[アプリケーションの概要と主要機能]

## テストケース

### 1. [テストケース名]
- **目的**: [何を確認するか]
- **手順**:
  1. [ステップ1]
  2. [ステップ2]
- **期待結果**: [成功条件]
- **優先度**: 高/中/低

### 2. [テストケース名]
...
```

### 4. 出力先

生成したテスト計画は以下に保存：

```
docs/e2e-plan.md
```

## 注意事項

- 壊れにくいテストを設計するため、以下のセレクターを優先：
  - `getByRole()`（ARIAロール）
  - `getByText()`（テキストコンテンツ）
  - `getByLabel()`（ラベルテキスト）
  - `getByTestId()`（data-testid属性、他が使えない場合のみ）
- レイアウトやスタイルに依存するテストは避ける
