description = "特化したプロジェクトコンテキストのためのカスタムステアリングドキュメントを作成する"
prompt = """
<meta>
description: 特化したプロジェクトコンテキストのためのカスタムステアリングドキュメントを作成する
argument-hint: <what-to-create-custom-steering:$ARGUMENTS>
arguments: {{args}}
</meta>

# Kiro カスタムステアリング作成 (Custom Steering Creation)

<background_information>
- **役割**: コアファイル（product, tech, structure）を超えた特化したステアリングドキュメントを作成する。
- **ミッション**: ユーザーが特化した領域のためのドメイン固有のプロジェクトメモリを作成するのを支援する。
- **成功基準**:
  - カスタムステアリングが特化したパターンをキャプチャしている
  - コアステアリングと同じ粒度の原則に従っている
  - 特定のドメインに対して明確な価値を提供している
</background_information>

<instructions>
## ワークフロー

1. **ユーザーに尋ねる** カスタムステアリングのニーズについて:
   - ドメイン/トピック（例: 「API標準」、「テストアプローチ」）
   - 文書化すべき特定の要件やパターン

2. **テンプレートの存在確認**:
   - 利用可能であれば `.kiro/settings/templates/steering-custom/{name}.md` からロードする
   - 出発点として使用し、プロジェクトに基づいてカスタマイズする

3. **コードベースの分析** (JIT) 関連パターンについて:
   - 関連ファイルのために **Glob**
   - 既存の実装のために **Read**
   - 特定のパターンのために **Grep**

4. **カスタムステアリングの生成**:
   - 利用可能であればテンプレート構造に従う
   - `.kiro/settings/rules/steering-principles.md` からの原則を適用する
   - 網羅的なリストではなくパターンに焦点を当てる
   - 100〜200行（2〜3分の読み物）に収める

5. **ファイル作成**: `.kiro/steering/{name}.md` に作成する

## 利用可能なテンプレート

`.kiro/settings/templates/steering-custom/` で利用可能なテンプレート:

1. **api-standards.md** - REST/GraphQL規約、エラー処理
2. **testing.md** - テスト組織、モッキング、カバレッジ
3. **security.md** - 認証パターン、入力検証、シークレット
4. **database.md** - スキーマ設計、マイグレーション、クエリパターン
5. **error-handling.md** - エラータイプ、ロギング、リトライ戦略
6. **authentication.md** - 認証フロー、権限、セッション管理
7. **deployment.md** - CI/CD、環境、ロールバック手順

必要な時にテンプレートをロードし、プロジェクト用にカスタマイズする。

## ステアリング原則

`.kiro/settings/rules/steering-principles.md` より:

- **リストよりパターン**: すべてのファイル/コンポーネントではなくパターンを文書化する
- **単一ドメイン**: ファイルごとに1トピック
- **具体的な例**: コードでパターンを示す
- **維持可能なサイズ**: 通常100〜200行
- **セキュリティ第一**: シークレットや機密データを含めない

</instructions>

## ツールガイダンス

- **Read**: テンプレートをロードし、既存コードを分析する
- **Glob**: パターン分析のために関連ファイルを見つける
- **Grep**: 特定のパターンを検索する
- **LS**: 関連構造を理解する

**JIT戦略**: そのタイプのステアリングを作成するときのみテンプレートをロードする。

## 出力記述

ファイルの場所を含むチャット要約（ファイルは直接作成される）。

```
✅ カスタムステアリングを作成しました

## 作成:
- .kiro/steering/api-standards.md

## ベース:
- テンプレート: api-standards.md
- 分析: src/api/ ディレクトリのパターン
- 抽出: REST規約、エラーフォーマット

## コンテンツ:
- エンドポイント命名パターン
- リクエスト/レスポンスフォーマット
- エラー処理規約
- 認証アプローチ

必要に応じてレビューおよびカスタマイズしてください。
```

## 例

### 成功: API標準
**入力**: "API標準のステアリングを作成して"
**アクション**: テンプレートをロード、src/api/ を分析、パターンを抽出
**出力**: プロジェクト固有のREST規約を含む api-standards.md

### 成功: テスト戦略
**入力**: "テストアプローチを文書化して"
**アクション**: テンプレートをロード、テストファイルを分析、パターンを抽出
**出力**: テスト組織とモッキング戦略を含む testing.md

## 安全性とフォールバック

- **テンプレートなし**: ドメイン知識に基づいてゼロから生成する
- **セキュリティ**: シークレットを含めない（原則をロード）
- **検証**: コアステアリングの内容と重複しないことを確認する

## ノート

- テンプレートは出発点であり、プロジェクト用にカスタマイズする
- コアステアリングと同じ粒度の原則に従う
- すべてのステアリングファイルはプロジェクトメモリとしてロードされる
- カスタムファイルはコアファイルと同様に重要である

arguments: {{args}}
"""