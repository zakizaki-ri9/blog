# ステアリング原則

ステアリングファイルは **プロジェクトメモリ** であり、網羅的な仕様書ではありません。

---

## コンテンツの粒度

### 黄金律 (Golden Rule)
> 「新しいコードが既存のパターンに従っているなら、ステアリングを更新する必要はない。」

### ✅ 文書化すべきもの
- 組織的なパターン（機能ファースト、レイヤードなど）
- 命名規則（PascalCaseルールなど）
- インポート戦略（絶対パス vs 相対パス）
- アーキテクチャの決定（状態管理など）
- 技術標準（主要フレームワーク）

### ❌ 避けるべきもの
- 完全なファイルリスト
- すべてのコンポーネントの説明
- すべての依存関係
- 実装の詳細
- エージェント固有のツールディレクトリ（例：`.cursor/`, `.gemini/`, `.claude/`）
- `.kiro/` メタデータディレクトリの詳細なドキュメント（設定、自動化など）

### 比較例

**悪い例** (仕様書のような記述):
```markdown
- /components/Button.tsx - プライマリボタンとバリエーション
- /components/Input.tsx - バリデーション付きテキスト入力
- /components/Modal.tsx - モーダルダイアログ
... (50ファイル以上)
```

**良い例** (プロジェクトメモリ):
```markdown
## UIコンポーネント (`/components/ui/`)
再利用可能でデザインシステムに準拠したプリミティブ
- 機能による命名 (Button, Input, Modal)
- コンポーネント + TypeScriptインターフェースをエクスポート
- ビジネスロジックを含まない
```

---

## セキュリティ

以下は決して含めないこと：
- APIキー、パスワード、認証情報
- データベースURL、内部IP
- シークレットや機密データ

---

## 品質基準

- **単一ドメイン**: 1ファイルにつき1トピック
- **具体的な例**: コードを交えてパターンを示す
- **根拠の説明**: なぜその決定がなされたか
- **維持可能なサイズ**: 通常100〜200行

---

## 保存 (更新時)

- ユーザーセクションとカスタム例を保存する
- デフォルトで追加型（置換ではなく追加）
- `updated_at` タイムスタンプを追加する
- 変更理由を注記する

---

## ノート

- テンプレートは出発点であり、必要に応じてカスタマイズする
- コアステアリングと同じ粒度の原則に従う
- すべてのステアリングファイルはプロジェクトメモリとしてロードされる
- `.kiro/specs/` と `.kiro/steering/` への軽い言及は許容されるが、他の `.kiro/` ディレクトリは避ける
- カスタムファイルはコアファイルと同様に重要である

---

## ファイルごとの焦点

- **product.md**: 目的、価値、ビジネスコンテキスト（網羅的な機能リストではない）
- **tech.md**: 主要フレームワーク、標準、規約（すべての依存関係ではない）
- **structure.md**: 組織パターン、命名ルール（ディレクトリツリーではない）
- **カスタムファイル**: 特化したパターン（API、テスト、セキュリティなど）